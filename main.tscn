[gd_scene load_steps=7 format=3 uid="uid://ce5v6b3sbaakv"]

[ext_resource type="PackedScene" uid="uid://urds3bvn72tp" path="res://castle/castle.tscn" id="1_itskn"]
[ext_resource type="Script" path="res://scripts/main.gd" id="1_r324k"]
[ext_resource type="PackedScene" uid="uid://b2wy6tv52qpxk" path="res://maps/map_1.tscn" id="4_343d0"]
[ext_resource type="Script" path="res://scripts/EnemySpawner.gd" id="4_wbo6c"]
[ext_resource type="PackedScene" uid="uid://cu5kie5h7p2db" path="res://money_label.tscn" id="5_2jks8"]
[ext_resource type="PackedScene" uid="uid://xlutjnpme1ke" path="res://barracks/barracks_.tscn" id="6_ct8nn"]

[node name="Battle" type="Node2D"]
script = ExtResource("1_r324k")

[node name="Castle" parent="." instance=ExtResource("1_itskn")]
position = Vector2(625, 355)

[node name="Barracks_" parent="." instance=ExtResource("6_ct8nn")]
visible = false
position = Vector2(743, 392)

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = -1

[node name="Map1" parent="CanvasLayer" instance=ExtResource("4_343d0")]

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(644, 322)

[node name="EnemySpawner" type="Node2D" parent="."]
script = ExtResource("4_wbo6c")

[node name="spawn_enemy" type="Timer" parent="EnemySpawner"]
wait_time = 0.5

[node name="wave_complete" type="Timer" parent="EnemySpawner"]
wait_time = 3.0
one_shot = true

[node name="money_label" parent="." instance=ExtResource("5_2jks8")]

[connection signal="timeout" from="EnemySpawner/spawn_enemy" to="EnemySpawner" method="_on_spawn_enemy_timeout"]
[connection signal="timeout" from="EnemySpawner/wave_complete" to="EnemySpawner" method="_on_wave_complete_timeout"]
[connection signal="spawn_knight" from="money_label" to="Barracks_" method="_on_money_label_spawn_knight"]
